<div fxLayout="row wrap">
  <div fxFlex.gt-lg="100" fxFlex.gt-md="100" fxFlex.gt-xs="100" fxFlex="100">
    <mat-card>
      <mat-card-content>
        <div class="d-flex flex-wrap">
          <div>
            <mat-card-title>User management</mat-card-title>
            <mat-card-subtitle>Manage your system users</mat-card-subtitle>
          </div>
        </div>

        <!-- GET USER -->
        <div [hidden]="results.length">
          Whoops! No data found
        </div>
        <div [hidden]="!results.length" class="custom-container mat-elevation-z8">
          <div class="table-container">
            <table mat-table [dataSource]="results" class="custom-table" matSort matSortActive="created"
              matSortDisableClear matSortDirection="desc">

              <ng-container matColumnDef="user">
                <th mat-header-cell *matHeaderCellDef>Username</th>
                <td mat-cell *matCellDef="let row">{{row.user}}</td>
              </ng-container>

              <ng-container matColumnDef="house">
                <th mat-header-cell *matHeaderCellDef>House</th>
                <td mat-cell *matCellDef="let row">{{row.house}}</td>
              </ng-container>

              <ng-container matColumnDef="actions">
                <th mat-header-cell *matHeaderCellDef>Actions</th>
                <td mat-cell *matCellDef="let row">
                  <mat-icon mat-icon-button (click)="remove(row.user)">delete</mat-icon>
                </td>
              </ng-container>


              <tr mat-header-row *matHeaderRowDef="columns; sticky: true"></tr>
              <tr mat-row *matRowDef="let row; columns: columns;"></tr>
            </table>
          </div>

          <mat-paginator [length]="results.length" [pageSize]="10"></mat-paginator>
        </div>
        <br>
        <br>
        <mat-divider></mat-divider>
        <br><br>

        <!-- SAVE USER  -->
        <div fxLayout="row wrap">
          <mat-form-field>
            <mat-label>House</mat-label>
            <mat-select [formControl]="house" required>
              <mat-select-trigger>
                {{house.value ? house.value : ''}}
              </mat-select-trigger>
              <mat-option *ngFor="let r of houses" [value]="r">{{r}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div fxLayout="row wrap">
          <div fxFlex.gt-lg="48" fxFlex.gt-md="48" fxFlex.gt-xs="48" fxFlex="48">
            <mat-form-field>
              <mat-label>Username</mat-label>
              <input matInput [formControl]="username" required>
            </mat-form-field>
          </div>
          &nbsp;
          <div fxFlex.gt-lg="50" fxFlex.gt-md="50" fxFlex.gt-xs="50" fxFlex="50">
            <mat-form-field>
              <mat-label>Password</mat-label>
              <input matInput type="password" [formControl]="password" required>
            </mat-form-field>
          </div>
        </div>

        <div fxLayout="row wrap">
          <div fxFlex.gt-lg="100" fxFlex.gt-md="100" fxFlex.gt-xs="100" fxFlex="100">
            <div class="float-right">
              <button mat-icon-button (click)="save()">
                <mat-icon>save</mat-icon>
              </button>
              <button mat-icon-button (click)="reset()">
                <mat-icon>delete</mat-icon>
              </button>
            </div>
          </div>
        </div>

      </mat-card-content>
    </mat-card>
  </div>
</div>
